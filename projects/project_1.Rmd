---
title: "Project 1"
output: 
  rmdformats::robobook:
    css: "homework.css"
    highlight: pygments
link-citations: yes
---

**Due:** Friday, October 15, 12:00pm (noon) on Canvas

**Submission:** A template file is provided, which includes the five section headings: [project_1_template.Rmd](https://sta112-f21.github.io/homework/project_1_template.Rmd)

Once you have completed the report, submit *both* your 
knitted HTML file and the R Markdown file to Canvas.

# Overview

In this project, you will use exploratory data analysis and simple linear regression to investigate a research question. You will then write a data analysis report that communicates the results of your analysis and draws a conclusion about the research question. As discussed in the Collaboration section below, this project must be completed independently.

# Content

Your report will be written in the IMRaD format which we discussed in class, and which you used for Homework 4, with the following sections:

* **Introduction:** motivates the research question, why you want to study it, and the data you will use to study it.
* **Methods:** further details on the data you will use to answer the research question, and a description of the statistical methods you will use to analyze the data.
* **Results:** the final results of your statistical analysis, such as the equation of the final model, and results of confidence intervals or hypothesis tests.
* **Discussion:** interpret the Results in the context of the original research question.
* **Appendix:** any supplementary details that were not included in the main report.

There is no minimum or maximum length required. However, your analysis should be thorough, with your report containing all the elements described in the grading rubric below.

Full expectations are provided in the grading rubric. Here is a short summary. To address the research question, you need to:

* choose appropriate variables from the data that address the research question
* choose at least one model for the relationship between those variables, which allows you to assess the research question
* fit your model(s) with simple linear regression
* assess the assumptions of your model(s) with diagnostic plots, and check for any outliers and influential points
* explore transformations if your model assumptions are not met
* create a confidence interval and carry out a hypothesis test with your final model(s) to address the research question 
* interpret the results of your analysis in the context of the original research question

# Collaboration

One purpose of the projects is to capture your knowledge and understanding of statistics and data analysis. Unlike homework and lab assignments, this project must be completed on your own, without collaborating with other students. 

You may:

* ask the instructor for help
* use resources from the class notes and internet (Wikipedia, StackExchange, etc.)

You may not:

* work with another student on the project
* ask a TA or tutor (e.g., at the MSC) for help

# Data

How are college athletics programs funded, and how does this vary between schools of different size and prestige, in different athletics conferences?

College sports play a pivotal role in the student experience, marketing, and fundraising of many US institutions. But funding for college sports -- with costs that can include expensive training facilities and highly-paid star coaches -- varies widely between institutions. To investigate differences in funding, and factors associated with these differences, in 2015 researchers at the Huffington Post and the Chronicle of Higher Education conducted a study on the athletic spending of 205 different US colleges between 2010 and 2014; see [Sports At Any Cost: How College Students Are Bankrolling The Athletics Arms Race](https://projects.huffingtonpost.com/projects/ncaa/sports-at-any-cost). The data include information on each source of revenue for the college's athletics program, the program cost, and general information (like enrollment) about the institution.

## Variables

The dataset provided for this project contains the following columns, which are a subset of the columns collected in the original study:

* `instnm`: the name of the institution
* `conference`: the NCAA conference the school competes in
* `state`: the state of the school
* `year`: year for this data
* `full_time_enrollment`: 2013-2014 enrollment (full-time undergrads and grad students)
* `inflation_adjusted_subsidy`: Total amount (dollars) of funding for athletics from the institution, government, and student fees. Does not include funding generated by athletics itself (ticket sales, TV revenues, etc.)
* `inflation_adjusted_athletic_expenses`: Total amount (dollars) spent on athletics, adjusted for inflation
* `inflation_adjusted_athletic_revenues`: Total revenue (dollars) for athletics, adjusted for inflation. Includes both subsidy and funds generated by athletics itself (ticket sales, TV revenues, etc.)
* `instate_tuition`: 2014-15 in-state student tuition cost (dollars) 

## Downloading the data

The data for this project is stored in a CSV file, and can be imported into R with the `read_csv` function in the `readr` package. The following code imports the data and saves it as a data frame called `athletic_funding` (scroll to the right to see the full code):

```r
athletic_funding <- read_csv("https://sta112-f21.github.io/projects/athletic_funding_data.csv")
```

This code is included in the setup chunk of the R Markdown template for the project.

## Research question

For this project, you will focus on the following question: is there a relationship between the size of a school and how they support their athletics program?

Part of the project is deciding exactly which variables and model(s) you will investigate to address this question. You may also choose to use this data to explore additional questions about college sports funding (for example, are there differences between conferences?), but additional exploration is not required.

# General advice

* You will notice that each school appears several times in the data, for different years. This causes some dependence issues, which could be addressed by focusing on only one year, or calculating a separate fitted model for each year.
* If model assumptions do not look reasonable, try some transformations. If transformations fail to fix the model violations, you should still report your results (including p-values and confidence intervals) from the best fitted model, with the caveat that inference might not be valid when assumptions are violated.

# Audience

Your audience is someone who understands statistics, but is not necessarily familiar with your data or research question.

# Appearance and style

### Writing

The report should be written like an article or research paper: in full sentences and paragraphs, with headings for each section. You should not write your report with question numbers or as a list of bullet points. Scientific articles are generally written in third person, though "we" can also be acceptable ("we can see from Figure 1...") in some disciplines.

### Code

As with previous assignments, you will write the document in R Markdown. However, in full reports, the only output that should be visible from code chunks are figures and tables. If a code chunk does not produce a figure or table, you can hide it from the knitted document with `include=F`:

````
```{r, include=F}`r ''`

```
````

If a code chunk produces a figure or table, only the figure or table should be visible in the knitted document. You can hide the chunk but display the output with `echo=F, message=F, warning=F`:

````
```{r, echo=F, message=F, warning=F}`r ''`

```
````

### Figures

Figures should have labeled axes, and should be clear and easy to read. Figures should also be captioned and numbered; to caption a figure, use `fig.cap = "..."` in the chunk options. For example (scroll to the right on the code to see it all),

````
```{r, echo=F, message=F, warning=F, fig.cap="Figure 1: Bill depth vs. bill length for penguins near Palmer Station, Antarctica."}`r ''`
penguins %>%
  ggplot(aes(x = bill_length_mm, 
             y = bill_depth_mm)) +
  geom_point() +
  labs(x = "Bill length (mm)",
       y = "Bill depth (mm)") +
  theme_bw()
```
````

is displayed as

```{r include=F}
library(tidyverse)
library(palmerpenguins)
```

```{r, echo=F, message=F, warning=F, fig.cap="Figure 1: Bill depth vs. bill length for penguins near Palmer Station, Antarctica."}
penguins %>%
  ggplot(aes(x = bill_length_mm, 
             y = bill_depth_mm)) +
  geom_point() +
  labs(x = "Bill length (mm)",
       y = "Bill depth (mm)") +
  theme_bw()
```

Captions should provide enough information to understand what is being plotted, but interpretation can be left to the main text. Refer to figures by their number in the text. Make sure that any figures you include are discussed in the text.


# Rubric

### Introduction (15 pts)

Write 1-2 paragraphs which:

* Motivate the research question
* Describe where the data came from
* Provide background on the dataset
* Finish by summarizing what you will do in the report.

### Methods (25 pts)

Write 2-3 paragraphs which:

* Describe details of the data. What does a row in the data represent? How many rows and columns? What information do the variables record? Are there any missing data?
* Describe any data manipulation. Did you remove any missing values? Did you focus only on a subset of the data?
* Describe the model(s) that will be fit. Here you should write down the models, and motivate the purpose of any transformations
* Summarize the model assumptions and how they will be assessed. Summarize the assumptions for inference with linear models, and which diagnostic tools we use to evaluate them. Note that you don't check the assumptions here; that happens in the Results section.

### Results (25 pts)

Write 2-3 paragraphs which:

* Report the software used to fit the models. In this case, you can say "All analysis was completed using R", and list any specific packages used
* Report the equation of the fitted *final* model(s)
* Interpret the coefficients (estimated slope and estimated intercept) of the fitted final model(s). However, we don't address the research question yet -- assessing the results in the context of the research question happens in the Discussion.
* Assess assumptions for the final model(s)
* Use a studentized residual plot to check for outliers. If there are outliers, do they substantially change the estimated line?
* Report a confidence interval and p-value for the fitted final model which address your research question

### Discussion (15 pts)

Write 1-2 paragraphs which:

* Summarize what you learned from your final model(s), and how it addresses the original research question
* Discuss any limitations to the analysis, and how they could be improved in future work

### Appendix (10 pts)

* Include any exploratory data analysis that was relevant
* Report the results for any other models apart from the final model

### Format (10 pts)

* Uses the IMRaD format, with appropriate section titles
* Figures are meaningfully captioned
* Axes are labeled, with units
* Code chunks not displayed in the knitted report